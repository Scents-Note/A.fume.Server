paths:
  /perfume/{perfumeIdx}/review:
    post:
      tags:
      - review
      summary: 시향노트 추가
      description: <h3> 🎫로그인 토큰 필수🎫 </h3> <br/> 시향노트를 작성한다.
      operationId: postReview
      security:
        - userToken: []
      x-security-scopes:
        - user
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: perfumeIdx
        in: path
        description: 향수 Idx
        required: true
        type: integer
        format: int64  
      - name: body
        in: body
        description: 시향노트 정보
        required: true
        schema:
          allOf:
            - $ref: '#/definitions/ReviewInfo'
            - type: object
              example:
                keywordList:  [4, 5]
              properties:
                keywordList: 
                  type: array
                  items:
                    type: integer
                    format: int64
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              message: 
                type: string
                example: 시향노트 추가 성공
              data:
                type: object
                properties:
                  reviewIdx:
                    type: integer
                    format: int64
                    example: 40
        401:
          description: Token is missing or invalid
      x-swagger-router-controller: Review
    get:
      tags:
      - review
      summary: 향수별 시향 노트 전체 조회 
      description: 해당 향수에 작성된 시향 노트 리스트를 반환한다. <br/> 반환되는 정보 [시향노트]
      operationId: getPerfumeReview
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: perfumeIdx
        in: path
        description: 향수 Idx
        required: true
        type: integer
        format: int64
      # - name: sort
      #   in: query
      #   type: string
      #   enum:
      #   - likeCount_asc
      #   - score_asc
      #   - likeCount_desc
      #   - score_desc
      #   required: false
      - name: pagingSize
        in: query
        type: integer
        required: false
      - name: pagingIndex
        in: query
        type: integer
        required: false
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              message: 
                type: string
                example: 특정 향수의 시향노트 목록 조회 성공
              data:
                type: array
                items:
                  allOf:
                  - $ref: '#/definitions/ReviewInfo'
                  - type: object
                    properties: 
                      reviewIdx:
                        type: integer
                        format: int64
                      likeCount:
                        type: integer
                        format: int64
                      age:
                        type: string
                      userGender: 
                        type: string
                      nickname:
                        type: string
                      createTime:
                        type: string
                    example:
                      reviewIdx: 339
                      likeCount: 3
                      userGender: 여자
                      age: 20대 중반
                      nickname: 담담
                      createTime: '2020-12-07 00:11:41'
      x-swagger-router-controller: Review
  /review/{reviewIdx}:
    get:
      tags:
      - review
      summary: 시향노트 조회
      description: 특정 시향노트 가져오기 <br/> 반환 되는 정보 [시향 노트]
      operationId: getReviewByIdx
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: reviewIdx
        in: path
        description: 시향노트 Idx
        required: true
        type: integer
        format: int64
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              message: 
                type: string
                example: 시향노트 조회 성공
              data:
                allOf:
                - $ref: '#/definitions/ReviewInfo'
                - type: object
                  properties: 
                    reviewIdx:
                      type: integer
                      format: int64
                    Perfume:
                      type: object
                      properties:
                        perfumeIdx:
                          type: integer
                          format: int64
                        perfumeName:
                          type: integer
                          format: int64
                        imageUrl:
                          type: string
                    KeywordList: 
                      type: array
                      items: 
                        type: object
                        properties:
                          keywordIdx:
                            type: integer
                            format: int64
                          keyword:
                            type: string
                    Brand:
                      type: object
                      properties:
                        brandIdx:
                          type: integer
                          format: int64
                        brandName:
                          type: string
                  example:
                    reviewIdx: 1
                    Perfume:
                      perfumeIdx: 1
                      perfumeName:  154 코롱
                      imageUrl: https://contents.lotteon.com/itemimage/_v065423/LE/12/04/59/50/19/_1/22/48/08/13/9/LE1204595019_1224808139_1.jpg/dims/resizef/554X554
                    KeywordList:
                      -
                        keywordIdx: 1
                        keyword: 달달한
                    Brand:
                      brandIdx: 1
                      brandName: Jo Malone
        400:
          description: Invalid ID supplied
        401:
          description: Token is missing or invalid
        404:
          description: Review not found
      x-swagger-router-controller: Review
    put:
      tags:
      - review
      summary: 시향노트 수정
      description: <h3> 🎫로그인 토큰 필수🎫 </h3> <br/> 시향 노트를 수정한다.
      operationId: putReview
      security:
        - userToken: []
      x-security-scopes:
        - user
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: reviewIdx
        in: path
        description: 시향노트 Idx
        required: true
        type: integer
        format: int64
      - in: body
        name: body
        required: false
        schema:
          allOf:
            - $ref: '#/definitions/ReviewInfo'
            - type: object
              example:
                keywordList:  [1, 2]
              properties:
                keywordList: 
                  type: array
                  items:
                    type: integer
                    format: int64
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              message: 
                type: string
                example: 시향노트 수정 성공
        400:
          description: Invalid ID supplied
        401:
          description: Token is missing or invalid
      x-swagger-router-controller: Review
    delete:
      tags:
      - review
      summary: 시향노트 삭제
      description: <h3> 🎫로그인 토큰 필수🎫 </h3> <br/> 시향노트 삭제하기
      operationId: deleteReview
      security:
        - userToken: []
      x-security-scopes:
        - user
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: reviewIdx
        in: path
        description: 시향노트 Idx
        required: true
        type: integer
        format: int64
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              message: 
                type: string
                example: 시향노트 삭제 성공
        400:
          description: Invalid ID supplied
        401:
          description: Token is missing or invalid
      x-swagger-router-controller: Review
  /review/{reviewIdx}/like:
    post:
      tags:
      - review
      summary:  시향노트 좋아요
      description: <h3> 🎫로그인 토큰 필수🎫 </h3> <br/> 시향노트 좋아요 상태 변경하기. <br/> 반환 되는 정보 [최종 좋아요 상태]
      security:
        - userToken: []
      x-security-scopes:
        - user
      operationId: likeReview
      produces:
      - application/json
      parameters:
      - name: reviewIdx
        in: path
        required: true
        type: integer
        format: int64
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              message:
                type: string
                example: 시향노트 좋아요 상태 변경 성공
              data:
                type: boolean
                example: true
        401:
          description: Not authenticated
        403:
          description: Access token does not have the required scope
        404:
          description: Review Like not found
      x-swagger-router-controller: Review
  /user/review:
    get:
      tags:
      - review
      summary: 마이퍼퓸 조회
      description: <h3> 🎫로그인 토큰 필수🎫 </h3> <br/> 유저가 작성한 리뷰 전체 조회
      operationId: getReviewOfUser
      security:
        - userToken: []
      x-security-scopes:
        - user
      produces:
      - application/json
      responses:
        200:
          description: successful operation
          schema:
            type: object
            properties:
              message:
                type: string
                example: 마이퍼퓸 조회 성공
              data:
                type: array
                items:
                  type: object
                  properties: 
                    reviewIdx: 
                      type: integer
                      example: 1
                    score:
                      type: number
                      example: 4.5
                    perfumeIdx:
                      type: integer
                      example: 1
                    perfumeName:
                      type: string
                      example: 154 코롱
                    imageUrl:
                      type: string
                      example: https://contents.lotteon.com/itemimage/_v065423/LE/12/04/59/50/19/_1/22/48/08/13/9/LE1204595019_1224808139_1.jpg/dims/resizef/554X554
                    brandIdx: 
                      type: integer
                      example: 1
                    brandName:
                      type: string
                      example: (테스트)조말론
        default:
          description: successful operation
      x-swagger-router-controller: Review